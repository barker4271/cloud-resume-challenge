<!-- views/blog.ejs -->
<section class="content">

  <h1>Blog</h1>

  <p>
    Thoughts, notes, and experiments from the Wookiee engineering desk.
  </p>

  <p style="margin-bottom: 30px;">
    <a href="/blog/new" class="button">
      + Add New Blog Post
    </a>
  </p>

  <% if (!posts || posts.length === 0) { %>
    <p>No blog posts yet. Be the first to post!</p>
  <% } else { %>

    <ul class="blog-list">
      <% posts.forEach(post => { %>

        <li class="blog-post">
          <h2><%= post.topic %></h2>

          <small>
            <%= new Date(post.createdAt).toLocaleString() %>
          </small>

          <p>
            <%= post.body %>
          </p>
        </li>

      <% }) %>
    </ul>

  <% } %>

</section>
